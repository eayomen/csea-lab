% topottest% [topo_tmat, mat3d_1, mat3d_2] = topottest(filemat1, filemat2, bslvec, outname)function [topo_tmat, mat3d_1, mat3d_2] = topottest(filemat1, filemat2, bslvec, outname, z_flag)[a,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...	SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec,EegMegStatus,...    NChanExtra,TrigPoint,HybridFactor,HybridDataCell,DataTypeVal]=ReadAvgFile(deblank(filemat1(1,:))); mat3d_1 = zeros(size(a,1), size(a,2), size(filemat1,1) ); mat3d_2 = zeros(size(a,1), size(a,2), size(filemat1,1) ); for subject = 1:size(filemat1,1);        a = ReadAvgFile(deblank(filemat1(subject,:)));        if ~isempty (bslvec)    mat3d_1(:,:, subject) = bslcorr(a, bslvec);         if z_flag         mat3d_1(:,:, subject) = z_norm(mat3d_1(:,:, subject));        end   else       mat3d_1(:,:, subject) = a;        if z_flag         mat3d_1(:,:, subject) = z_norm(mat3d_1(:,:, subject));       end    end       b = ReadAvgFile(deblank(filemat2(subject,:)));           if ~isempty (bslvec)        mat3d_2(:,:, subject) = bslcorr(b, bslvec);          if z_flag         mat3d_2(:,:, subject) = z_norm(mat3d_2(:,:, subject));         end      else          mat3d_2(:,:, subject) = b;           if z_flag         mat3d_2(:,:, subject) = z_norm(mat3d_2(:,:, subject));         end      endend[dummy, dummy, dummy, stats] = ttest(mat3d_1, mat3d_2, 0.05, [], 3); topo_tmat = stats.tstat; if ~isempty(outname) SaveAvgFile(outname, topo_tmat,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor); end        